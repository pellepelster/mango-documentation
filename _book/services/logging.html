<!DOCTYPE HTML>
<html lang="en-US" >
    
    <head>
        
        <meta charset="UTF-8">
        <title>Logging | Mango Documentation</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 1.0.3">
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">
        
    
    
    
    <link rel="next" href="../configuration/README.html" />
    
    
    <link rel="prev" href="../services/mail.html" />
    

        
    </head>
    <body>
        
        
<link rel="stylesheet" href="../gitbook/style.css">


        
    <div class="book"  data-level="6.2" data-basepath=".." data-revision="1420659504493">
    

<div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Type to search" class="form-control" />
    </div>
    <ul class="summary">
        
    	
    	
    	

        

        
    
        
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="../index.html">
                        <i class="fa fa-check"></i>
                        
                         Introduction
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1" data-path="installation/README.html">
            
                
                    <a href="../installation/README.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                         Installation
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2" data-path="project_setup/README.html">
            
                
                    <a href="../project_setup/README.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                         Project Setup
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="3" data-path="model/README.html">
            
                
                    <a href="../model/README.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                         The Model
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="3.1" data-path="model/project.html">
            
                
                    <a href="../model/project.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.</b>
                        
                         Project
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="3.2" data-path="model/entity_model.html">
            
                
                    <a href="../model/entity_model.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.2.</b>
                        
                         Entity Model
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="3.3" data-path="model/ui_model.html">
            
                
                    <a href="../model/ui_model.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.3.</b>
                        
                         UI Model
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="3.4" data-path="model/dictionary_model.html">
            
                
                    <a href="../model/dictionary_model.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.4.</b>
                        
                         Dictionary Model
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="4" data-path="persistence/README.html">
            
                
                    <a href="../persistence/README.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.</b>
                        
                         Persistence
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="4.1" data-path="persistence/query_language.html">
            
                
                    <a href="../persistence/query_language.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.</b>
                        
                         Query Language
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="5" data-path="dictionary/README.html">
            
                
                    <a href="../dictionary/README.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.</b>
                        
                         Dictionary
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="5.1" data-path="dictionary/hooks.html">
            
                
                    <a href="../dictionary/hooks.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.1.</b>
                        
                         Hooks
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="6" data-path="services/README.html">
            
                
                    <a href="../services/README.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.</b>
                        
                         Services
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="6.1" data-path="services/mail.html">
            
                
                    <a href="../services/mail.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.1.</b>
                        
                         Mail
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter active" data-level="6.2" data-path="services/logging.html">
            
                
                    <a href="../services/logging.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.2.</b>
                        
                         Logging
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="7" data-path="configuration/README.html">
            
                
                    <a href="../configuration/README.html">
                        <i class="fa fa-check"></i>
                        
                            <b>7.</b>
                        
                         Configuration
                    </a>
                
            
            
        </li>
    


        
        <li class="divider"></li>
        <li>
            <a href="http://www.gitbook.io/" target="blank" class="gitbook-link">Published using GitBook</a>
        </li>
        
    </ul>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header">
    <!-- Actions Left -->
    <a href="#" class="btn pull-left toggle-summary" aria-label="Toggle summary"><i class="fa fa-align-justify"></i></a>
    <a href="#" class="btn pull-left toggle-search" aria-label="Toggle search"><i class="fa fa-search"></i></a>
    
    <div id="font-settings-wrapper" class="dropdown pull-left">
        <a href="#" class="btn toggle-dropdown" aria-label="Toggle font settings"><i class="fa fa-font"></i>
        </a>
        <div class="dropdown-menu font-settings">
    <div class="dropdown-caret">
        <span class="caret-outer"></span>
        <span class="caret-inner"></span>
    </div>

    <div class="buttons">
        <button type="button" id="reduce-font-size" class="button size-2">A</button>
        <button type="button" id="enlarge-font-size" class="button size-2">A</button>
    </div>

    <div class="buttons font-family-list">
        <button type="button" data-font="0" class="button">Serif</button>
        <button type="button" data-font="1" class="button">Sans</button>
    </div>

    <div class="buttons color-theme-list">
        <button type="button" id="color-theme-preview-0" class="button size-3" data-theme="0">White</button>
        <button type="button" id="color-theme-preview-1" class="button size-3" data-theme="1">Sepia</button>
        <button type="button" id="color-theme-preview-2" class="button size-3" data-theme="2">Night</button>
    </div>
</div>

    </div>

    <!-- Actions Right -->
    
    <div class="dropdown pull-right">
        <a href="#" class="btn toggle-dropdown" aria-label="Toggle share dropdown"><i class="fa fa-share-alt"></i>
        </a>
        <div class="dropdown-menu font-settings dropdown-left">
            <div class="dropdown-caret">
                <span class="caret-outer"></span>
                <span class="caret-inner"></span>
            </div>
            <div class="buttons">
                <button type="button" data-sharing="twitter" class="button">Twitter</button>
                <button type="button" data-sharing="google-plus" class="button">Google</button>
                <button type="button" data-sharing="facebook" class="button">Facebook</button>
                <button type="button" data-sharing="weibo" class="button">Weibo</button>
                <button type="button" data-sharing="instapaper" class="button">Instapaper</button>
            </div>
        </div>
    </div>
    

    
    <a href="#" target="_blank" class="btn pull-right google-plus-sharing-link sharing-link" data-sharing="google-plus" aria-label="Share on Google Plus"><i class="fa fa-google-plus"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right facebook-sharing-link sharing-link" data-sharing="facebook" aria-label="Share on Facebook"><i class="fa fa-facebook"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right twitter-sharing-link sharing-link" data-sharing="twitter" aria-label="Share on Twitter"><i class="fa fa-twitter"></i></a>
    
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../" >Mango Documentation</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-gitbook_16">
                    
                        <h1 id="logging">Logging</h1>
<p>Mango also provides a small logging abstraction that is intended for functional logging of application events. To minimize the performance impact the logging is asynchronous and takes places in a different transaction to minimize the impact on our business code.</p>
<h2 id="using-the-logger">Using the logger</h2>
<p>The logger can be injected like any other Spring bean and provides three well known log levels that can be used to mark the severity of the log entry</p>
<p><strong>Example usage</strong></p>
<pre><code class="lang-java"><span class="hljs-annotation">@Autowired</span>
<span class="hljs-keyword">private</span> IMangoLogger logger;

logger.info(<span class="hljs-string">"info message"</span>);
logger.warn(<span class="hljs-string">"warning message"</span>);
logger.error(<span class="hljs-string">"error message"</span>);
</code></pre>
<h2 id="logging-viewer">Logging Viewer</h2>
<p>A log viewer to view these log entries is also provided, just add the provided log module to the applications navigation tree</p>
<p><strong>Log Module</strong></p>
<pre><code>navigationnode Administration {
    navigationnode Log {
        moduleDefinition Log
    }
}
</code></pre><p>The log viewer provides a simple list that can endlessly be scrolled in each direction. Scrolling down goes backwards through the log history, scrolling up requests new log entries from the log if the first entry is reached. New fetched entries are displayed in bold to distinguish them from the old entries.</p>
<p><strong>Log Viewer</strong>
<img src="log_module_ui.png" alt="log_module_ui.png" title="Log Viewer"></p>
<h1 id="logging-with-references">Logging with references</h1>
<p>If you want to log information that belongs to a certain entity the logger provides a special <code>reference</code> field that can be used to attach log entries to arbitrary objects.
The object that the log entry will be attached to is converted into a <code>String</code> by an <code>ILogReferenceKeyMapper</code> instance that should be registered for the object type that is given to the logger.</p>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">ILogReferenceKeyMapper</span> </span>{

    <span class="hljs-function">String <span class="hljs-title">getReferenceKey</span><span class="hljs-params">(Object object)</span></span>;

    <span class="hljs-function"><span class="hljs-keyword">boolean</span> <span class="hljs-title">supports</span><span class="hljs-params">(Class&lt;?&gt; referenceClass)</span></span>;

}
</code></pre>
<p>A <code>ILogReferenceKeyMapper</code> for entities is already provided so to log messages for an entities just feed the entity as reference into the logger</p>
<p><strong>Logging with references</strong></p>
<pre><code class="lang-java"><span class="hljs-annotation">@Autowired</span>
<span class="hljs-keyword">private</span> IMangoLogger logger;

CountryVO countryVO = [...]

logger.info(<span class="hljs-string">"country info message"</span>, countryVO);
logger.warn(<span class="hljs-string">"country warning message"</span>, countryVO);
logger.error(<span class="hljs-string">"country error message"</span>, countryVO);
</code></pre>
<p>The default editor dictionary also provides a log viewer that show the log entries specific for each entity.</p>
<p><strong>Editor Log Viewer</strong>
<img src="editor_log_viewer.png" alt="editor_log_viewer.png" title="Editor Log Viewer"></p>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="../services/mail.html" class="navigation navigation-prev " aria-label="Previous page: Mail"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../configuration/README.html" class="navigation navigation-next " aria-label="Next page: Configuration"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="../gitbook/app.js"></script>

    
    <script src="https://cdn.mathjax.org/mathjax/2.4-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-mathjax/plugin.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"fontSettings":{"theme":null,"family":"sans","size":2}};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
